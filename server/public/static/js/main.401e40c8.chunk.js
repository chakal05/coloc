(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,a,t){},124:function(e,a,t){},125:function(e,a,t){},126:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),o=t.n(c),l=t(10),i=t(37),s=t(183);function m(e){var a=e.component;return JSON.parse(localStorage.getItem("userToken"))?r.a.createElement(l.b,{exact:!0,path:e.path,component:a}):(alert("You need to login first"),r.a.createElement(l.a,{to:"/"}))}var u=t(36),d=t(80),p=t(84),E=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"RETRIEVE_RESULTS":return Object(p.a)(a.results);default:return e}},h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,g=t(20),b=t.n(g),v=t(35),S=t(25),k=t(184),w=t(169),O=t(19),x=t.n(O),y=function(e){return{type:"RETRIEVE_RESULTS",results:e}},N=(t(121),t(63)),j=t(61);var T=Object(i.b)()((function(e){var a=Object(n.useState)(""),t=Object(S.a)(a,2),c=t[0],o=t[1],l={method:"GET",url:"https://contextualwebsearch-websearch-v1.p.rapidapi.com/api/search/NewsSearchAPI",params:{pageSize:"10",q:c,autoCorrect:"true",pageNumber:"1",toPublishedDate:"null",fromPublishedDate:"null"},headers:{"x-rapidapi-key":"7ecb86c260msh4e68802cf83e2b5p155a5bjsn422ce199d5f3","x-rapidapi-host":"contextualwebsearch-websearch-v1.p.rapidapi.com"}},i=function(){var a=Object(v.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x.a.request(l).then((function(a){e.dispatch(y(a.data.value))})).catch((function(e){throw e}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("form",{className:"root",onSubmit:function(a){a.preventDefault(),i(),e.onSubmit()}},r.a.createElement(k.a,{placeholder:"Search with key words, like 'Bitcoin'",className:"userInput",variant:"outlined",onChange:function(e){o(e.target.value.trim())},InputProps:{endAdornment:r.a.createElement(w.a,{position:"end"},r.a.createElement(j.a,{icon:N.a}))}},r.a.createElement(j.a,{color:"secondary",icon:N.a})))})),C=t(170),I=t(171),P=Object(C.a)((function(e){return{landing:{height:"93.3vh",padding:"70px 0"},topTxt:{marginTop:"9rem",fontSize:"4rem",marginBottom:"2rem"}}}));var R=function(e){var a=P();return r.a.createElement("div",{className:a.root},r.a.createElement("section",{className:a.landing},r.a.createElement(I.a,{container:!0,align:"center"},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement("h1",{className:a.topTxt},"Search worldwide news"),r.a.createElement(T,{onSubmit:function(){e.history.push("/results")}})))))},_=t(42),A=t(168),L=t(172),J=t(173),B=t(187),F=t(174),U=t(175),D=t(176);function z(e){return r.a.createElement("div",null,r.a.createElement(A.a,{className:"root"},e.data.map((function(a){var t=a.image.url||a.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{alignItems:"flex-start",key:a.id},r.a.createElement(J.a,null,r.a.createElement(B.a,{className:"avatar",alt:"Remy Sharp",src:"".concat(t)})),r.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(F.a,{primary:a.title,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{component:"span",variant:"body2",className:"inline",color:"textPrimary"},0===e.action?a.provider:a.provider.name)," ",r.a.createElement("br",null),r.a.createElement(_.a,{component:"span",variant:"body1",className:"inline",color:"textPrimary"},a.description)," ",r.a.createElement("br",null),"".concat(a.datePublished.split("T").shift()," at ").concat(a.datePublished.split("T").pop()))})),r.a.createElement(U.a,{onClick:Object(v.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=JSON.parse(localStorage.getItem("userToken")))){t.next=11;break}if(1!==e.action){t.next=7;break}return t.next=5,x.a.post("/articles",{user:n.tokenUserId,id:a.id,title:a.title,description:a.description,body:a.body,url:a.url,image:a.image.url,provider:a.provider.name,datePublished:a.datePublished}).then((function(e){alert(e.data)})).catch((function(e){throw e}));case 5:t.next=9;break;case 7:return t.next=9,x.a.delete("/articles",{data:{id:a._id}}).then((function(a){alert(a.data),e.refresh()})).catch((function(e){throw e}));case 9:t.next=12;break;case 11:alert("You need to login first");case 12:case"end":return t.stop()}}),t)})))},1===e.action?"Save":"Delete"),r.a.createElement(U.a,{hidden:!0,value:e.action})),r.a.createElement(D.a,{variant:"inset",component:"li"}))}))))}var W=t(177);t(78);var V=Object(i.b)((function(e){return{results:e.results}}))((function(e){return r.a.createElement("div",{className:"root"},r.a.createElement(I.a,{container:!0},r.a.createElement(I.a,{item:!0,xs:12,className:"searchBox"},r.a.createElement(T,{onSubmit:function(){}}),!e.results[0]&&r.a.createElement(W.a,{className:"progress"})),r.a.createElement(I.a,{item:!0,className:"list"},r.a.createElement(z,{data:e.results,action:1}))))}));function q(){var e=Object(n.useState)([]),a=Object(S.a)(e,2),t=a[0],c=a[1],o=JSON.parse(localStorage.getItem("userToken")),l=function(){x.a.get("/articles",{params:{user:o.tokenUserId}}).then((function(e){c(e.data)}))};return Object(n.useEffect)((function(){l()}),[]),r.a.createElement("div",{className:"root"},r.a.createElement("div",null,r.a.createElement(I.a,{container:!0},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement("h1",{style:{marginLeft:"1.5rem"}}," ","Saved articles"," ")),r.a.createElement(I.a,{item:!0,className:"list"},!t[0]&&r.a.createElement("h3",{style:{marginLeft:"2rem"}},"No item saved"),r.a.createElement(z,{data:t,refresh:function(){l()},action:0})))))}var G=t(16),M=Object(G.a)(),X=t(44),Y=t(178),H=t(179),K=t(186),Q=t(182),Z=t(181),$=t(180),ee=(t(124),Object(C.a)((function(e){return{root:{marginBottom:"-4rem"},appBar:{background:"#FAFAFA"},logo:{flexGrow:1,fontSize:"1.3rem",color:"#000"},addAnnons:{},rightLinks:{marginRight:e.spacing(1),color:"#000"}}})));function ae(e){var a=ee(),t=Object(n.useState)(!1),c=Object(S.a)(t,2),o=c[0],l=c[1],i=Object(n.useState)(""),s=Object(S.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(S.a)(d,2),E=p[0],f=p[1],h=Object(n.useState)(!1),g=Object(S.a)(h,2),w=g[0],O=g[1],y=Object(n.useState)(""),N=Object(S.a)(y,2),j=N[0],T=N[1],C=function(e){var a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)},I=function(){var e=JSON.parse(localStorage.getItem("userToken")).accessToken;e&&(x.a.defaults.headers.common.authorization=e)};return r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{className:a.appBar,position:"static",elevation:0},r.a.createElement(H.a,null,r.a.createElement(_.a,{className:a.logo},r.a.createElement(X.a,{className:a.logo,to:"/"},"SasMiya"))," ",r.a.createElement(_.a,{className:a.addAnnons},r.a.createElement(X.a,{className:a.rightLinks,to:"/dashboard"}," ","Saved news"," "),r.a.createElement(U.a,{className:a.rightLinks,variant:"text",onClick:function(){if(JSON.parse(localStorage.getItem("userToken")))return localStorage.removeItem("userToken"),window.location.href="/";l(!0)}},JSON.parse(localStorage.getItem("userToken"))?"logout":"login"),r.a.createElement(K.a,{open:o,onClose:function(){l(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement($.a,{id:"form-dialog-title"},r.a.createElement(U.a,{onClick:function(){return O(!1)},variant:"text"}," ","Login"," "),r.a.createElement(U.a,{variant:"text",onClick:function(){return O(!0)}}," ","Register"," ")),!w&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement(Z.a,null,r.a.createElement(k.a,{autoFocus:!0,margin:"dense",name:"email",label:"Email Address",type:"email",fullWidth:!0,onChange:function(e){u(e.target.value.trim())}}),r.a.createElement(k.a,{margin:"dense",name:"pass",label:"Password",type:"password",style:{marginBottom:"2rem"},fullWidth:!0,onChange:function(e){f(e.target.value.trim())}}),j&&r.a.createElement(_.a,{color:"secondary",variant:"subtitle2"},j),r.a.createElement("br",null),r.a.createElement(_.a,{variant:"subtitle2"},"Don't have an account? Register, please"," ")),r.a.createElement(Q.a,null,r.a.createElement(U.a,{onClick:function(){l(!1)},color:"primary"},"Cancel"),r.a.createElement(U.a,{onClick:Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!E){e.next=5;break}return e.next=3,x.a.get("/users",{params:{email:m,password:E}}).then((function(e){if(200===e.status){var a=e.data.accessToken,t=C(a),n={accessToken:a,tokenUserId:t.id,tokenUserEmail:t.email};return localStorage.setItem("userToken",JSON.stringify(n)),I(),l(!1)}})).catch((function(e){e&&T("Something went wrong with your credentials.\n                                                                     Please, check again")}));case 3:e.next=6;break;case 5:T("Email and password must be provided");case 6:case"end":return e.stop()}}),e)}))),color:"primary"},"Login"))," "),w&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement(Z.a,null,r.a.createElement(k.a,{autoFocus:!0,margin:"dense",name:"email",label:"Email Address",type:"email",fullWidth:!0,onChange:function(e){u(e.target.value.trim())}}),r.a.createElement(k.a,{margin:"dense",name:"pass",label:"Password",type:"password",style:{marginBottom:"2rem"},fullWidth:!0,onChange:function(e){f(e.target.value.trim())}})),r.a.createElement(Q.a,null,r.a.createElement(U.a,{onClick:function(){l(!1)},color:"primary"},"Cancel"),r.a.createElement(U.a,{onClick:Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!E){e.next=3;break}return e.next=3,x.a.post("/users",{email:m,password:E}).then((function(e){200===e.status&&(alert("Account created"),O(!1))})).catch((function(e){if(e)throw e}));case 3:case"end":return e.stop()}}),e)}))),color:"primary"},"Login"))," "))))),r.a.createElement(H.a,null))}t(125);var te=Object(u.e)(Object(u.c)({results:f}),h(Object(u.a)(d.a)));function ne(){return r.a.createElement(i.a,{store:te},r.a.createElement(s.a,null),r.a.createElement(l.c,{history:M},r.a.createElement(ae,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,component:R}),r.a.createElement(l.b,{path:"/results",exact:!0,component:V}),r.a.createElement(m,{exact:!0,path:"/dashboard",component:q}))))}o.a.render(r.a.createElement(ne,null),document.getElementById("root"))},78:function(e,a,t){},94:function(e,a,t){e.exports=t(126)}},[[94,1,2]]]);
//# sourceMappingURL=main.401e40c8.chunk.js.map